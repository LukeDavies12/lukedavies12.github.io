---
import BaseLayout from '../layouts/BaseLayout.astro';

import { getCollection } from 'astro:content';
const projectsEntries = await getCollection('projects');
---

<BaseLayout title="Luke Davies | Projects" headerText="Projects">
    <dl class="divide-y divide-opacity-25 divide-neutral-400">
        {projectsEntries.map(projectsEntry => (
            <div class="flex flex-col py-5">
                <dt class="mb-1">
                    <span class="font-bold text-lg lg:text-xl">{projectsEntry.data.title}</span>
                    <time datetime={projectsEntry.data.date.toISOString()} class="text-xs text-neutral-700">
                    {projectsEntry.data.date.toDateString()}
                    </time>
                    <br />
                    <span class="text-neutral-800 leading-tight">{projectsEntry.data.description}</span>
                </dt>
                <dd class="text-lg"><a href={`/projects/${projectsEntry.slug}`}>/{projectsEntry.slug}</a></dd>
            </div>
        ))}
    </dl>
</BaseLayout>